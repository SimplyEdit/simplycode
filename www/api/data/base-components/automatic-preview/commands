[{"command":"autoRunPreviews","editor":"code","code":"function(el) {\n  // var previewRunners = document.querySelectorAll(\".sb-component[open] iframe.sb-preview,iframe.sb-full-preview\");\n  var previewRunners = document.querySelectorAll(\"iframe.sb-full-preview\");\n  previewRunners.forEach(function(previewRunner) {\n    previewRunner.contentWindow.document.previewRunner = previewRunner;\n    previewRunner.parentNode.querySelectorAll(\".sb-preview-code [data-simply-list-item]:last-child .trailingComma\").forEach(function(element) {\n      element.remove();\n    });\n    simplyApp.commands.resetPreview(previewRunner)\n      .then(function(previewRunner) {\n      previewRunner.contentWindow.document.open();\n      previewRunner.contentWindow.document.write(previewRunner.parentNode.querySelector(\".sb-preview-code\").innerText);\n      previewRunner.contentWindow.document.close();\n    });\n  });\n\n  var previewRunners = document.querySelectorAll(\"iframe.sb-component-preview\");\n  previewRunners.forEach(function(previewRunner) {\n    previewRunner.contentWindow.document.previewRunner = previewRunner;\n    previewRunner.parentNode.querySelectorAll(\".sb-preview-code [data-simply-list-item]:last-child .trailingComma\").forEach(function(element) {\n      element.remove();\n    });\n    simplyApp.commands.resetPreview(previewRunner)\n      .then(function(previewRunner) {\n      previewRunner.contentWindow.document.open();\n      previewRunner.contentWindow.document.write(document.querySelector(\".sb-preview-app-head\").innerText);\n      previewRunner.contentWindow.document.write(previewRunner.parentNode.querySelector(\".sb-preview-code\").innerText);\n      previewRunner.contentWindow.document.write(document.querySelector(\".sb-preview-app-foot\").innerText);\n      previewRunner.contentWindow.document.close();\n      previewRunner.contentWindow.addEventListener(\"simply-content-loaded\", function() {\n        previewRunner.contentWindow.editor.pageData = JSON.parse(previewRunner.parentNode.querySelector(\".sb-preview-data\").innerText);\n      });\n    });\n  });\n}","tests":[]},{"command":"resetPreview","editor":"code","code":"function(el) {\n  return new Promise(function(resolve, reject) {\n    var newRunner = el.cloneNode(false);\n    newRunner.addEventListener(\"load\", function() {\n      resolve(newRunner);\n    });\n    el.parentNode.insertBefore(newRunner, el);\n    el.remove();\n  });\n}","tests":[]}]