[{"action":"saveBaseComponent","code":"function(component) {\n  var promises = [];\n  for (var name in component.parts) {\n    if (component.parts[name].length) { \n      promises.push(simplyDataApi.saveBaseComponentPart(component.id, name, JSON.stringify(component.parts[name])));\n    } else {\n      editor.pageData.parts.forEach(function(part) {\n        if (part.id == name) {\n          promises.push(simplyDataApi.deleteBaseComponentPart(component.id, name));\n        }\n      });\n    }\n  };\n\n  var meta = clone(component);\n  delete meta.parts;\n  promises.push(simplyDataApi.saveBaseComponentPart(meta.id, \"meta\", JSON.stringify(meta)));\n\n  return Promise.all(promises)\n    .then(function() {\n    return true;\n  });\n}"},{"action":"deleteBaseComponent","code":"function(component) {\n  return simplyDataApi.deleteBaseComponent(component);\n}"}]