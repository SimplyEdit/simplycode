[{"action":"saveAppHtml","code":"function(appHtml) {\n  return simplyDataApi.saveAppHtml(appHtml);\n}"},{"action":"getBaseComponents","code":"function() {\n  var promises = [];\n  return simplyApp.actions.listBaseComponents()\n    .then(function(baseComponents) {\n    baseComponents.forEach(function(baseComponent) {\n      promises.push(simplyApp.actions.getBaseComponent(baseComponent.id));\n    });\n  })\n    .then(function() {\n    return Promise.all(promises);\n  });\n}"},{"action":"getComponents","code":"function() {\n  var promises = [];\n  return simplyApp.actions.listComponents()\n    .then(function(components) {\n    components.forEach(function(component) {\n      promises.push(simplyApp.actions.getComponent(component.id));\n    });\n  })\n    .then(function() {\n    return Promise.all(promises);\n  });\n}"},{"action":"getPages","code":"function() {\n  var promises = [];\n  return simplyApp.actions.listPages()\n    .then(function(pages) {\n    pages.forEach(function(page) {\n      promises.push(simplyApp.actions.getPage(page.id));\n    });\n  })\n    .then(function() {\n    return Promise.all(promises);\n  });\n}"},{"action":"getAppData","code":"function() {\n  var appData = {\n  };\n  var promises = [\n    simplyApp.actions.getBaseComponents(),\n    simplyApp.actions.getComponents(),\n    simplyApp.actions.getPages()\n  ];\n  return Promise.all(promises)\n    .then(function(appComponents) {\n    appComponents.forEach(function(appComponent) {\n      appComponent.forEach(function(component) {\n        component.forEach(function(part) {\n          if (part.id == \"meta\") {\n            return;\n          };\n\n          if (typeof appData[part.id] === \"undefined\") {\n            appData[part.id] = [];\n          }\n          parts = JSON.parse(part.contents);\n          parts.forEach(function(entry) {\n            appData[part.id].push(entry);\n          });\n        });\n      });\n    });\n  })\n    .then(function() {\n    if (appData[\"routes\"]) {\n      appData[\"routes\"].sort(function(a, b) {\n        if (a.route.length > b.route.length) {\n          return -1;\n        } else if (a.route.length < b.route.length) {\n          return 1;\n        } else {\n          return 0;\n        }\n      });\n    }\n\n    return appData;\n  });\n}"}]